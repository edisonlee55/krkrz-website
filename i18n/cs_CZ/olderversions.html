<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>吉里吉里Z / 旧バージョンのダウンロードと更新履歴</title>
<link rel="stylesheet" href="styles-site.css" type="text/css" />
</head>
<body>
<a name="top"></a>
<div id="top_link"><a href="./index.html">Topへ</a></div>
<div id="container">
<div id="title-banner"><h1>吉里吉里Z 旧バージョンのダウンロードと更新履歴</h1></div>

<div class="content">
<div class="title_bar"><a name="download">ダウンロード</a></div>
<ul>
	<li><a href="https://github.com/krkrz/krkrz/releases/download/1.4.0r2/krkrz_20171225r2.7z">krkrz_20171225r2.7z (1.4.0.8)</a></li>
	<li><a href="./download/krkrz_20160810.7z">krkrz_20160810.7z (1.3.3.7)</a></li>
	<li><a href="./download/krkrz_20160801.7z">krkrz_20160801.7z (1.3.2.6)</a></li>
	<li><a href="./download/krkrz_20160603.7z">krkrz_20160603.7z (1.3.1.5)</a></li>
	<li><a href="./download/krkrz_20160531.7z">krkrz_20160531.7z (1.3.0.4)</a></li>
	<li><a href="./download/krkrz_20150817.zip">krkrz_20150817.zip (1.2.0.3)</a></li>
	<li><a href="./download/krkrz_20140803.zip">krkrz_20140803.zip (1.1.0.2)</a></li>
	<li><a href="./download/krkrz_20131231.zip">krkrz_20131231.zip (1.0.0.1)</a></li>
	<li><a href="./download/krkrz_20131224.zip">krkrz_20131224.zip (β9)</a></li>
	<li><a href="./download/krkrz_20131216.zip">krkrz_20131216.zip (β8)</a></li>
	<li><a href="./download/krkrz_20131210.zip">krkrz_20131210.zip (β7)</a></li>
	<li><a href="./download/krkrz_20131203.zip">krkrz_20131203.zip (β6)</a></li>
	<li><a href="./download/krkrz_20131126.zip">krkrz_20131126.zip (β5)</a></li>
	<li><a href="./download/krkrz_20131119.zip">krkrz_20131119.zip (β4)</a></li>
	<li><a href="./download/krkrz_20131111.zip">krkrz_20131111.zip (β3)</a></li>
	<li><a href="./download/krkrz_20131107.zip">krkrz_20131107.zip (β2)</a></li>
	<li><a href="./download/krkrz_20131102.zip">krkrz_20131102.zip (β1)</a></li>
	<li><a href="./download/krkrz_20131009.zip">krkrz_20131009.zip (10月)</a></li>
	<li><a href="./download/krkrz_20130903.zip">krkrz_20130903.zip ( 9月)</a></li>
	<li><a href="./download/krkrz_20130805.zip">krkrz_20130805.zip ( 8月)</a></li>
	<li><a href="./download/krkrz_20130702.zip">krkrz_20130702.zip ( 7月)</a></li>
	<li><a href="./download/krkrz_20130601.zip">krkrz_20130601.zip ( 6月)</a></li>
	<li><a href="./download/krkrz_20130501.zip">krkrz_20130501.zip ( 5月)</a></li>
</ul>
<br />
<div class="title_bar"><a name="revision">更新履歴</a></div>
<dl>
	<dt>2017/12/25 1.4.0.8 リリース</dt>
	<dd>
		鬼車とlibjpeg-turboを更新。<br />
		Dictionary.loadStruct メソッドでのテキスト形式の読み込み機能追加。<br />
		中国語リソース追加。<br />
		ローカルファイル名取得時にnullポインタアクセスする可能性のあった不具合を修正。<br />
		CPUが32コア以上の環境で動画再生ができなくなっていた不具合を修正。<br />
		<br />
	</dd>
	<dt>2016/08/10 1.3.3.7 リリース</dt>
	<dd>
		ロック画面で描画を行うとメモリ消費量が増大する問題を修正。<br />
		エンジン設定画面の説明文誤字修正。<br />
		プロセス・CRTヒープのコンパクションを行う設定を追加。<br />
		Bitmapメモリ確保失敗時にログへヒープ状態を出力するようにした。<br />
		グラフィックキャッシュ・Bitmap用分割ヒープ自動割り当て時の計算方法変更。<br />
		コマンドラインン引数をUNICODEで受けるように修正。<br />
		半透明のBoxBlurの結果がおかしかったので修正。<br />
		<br />
	</dd>
	<dt>2016/08/01 1.3.2.6 リリース</dt>
	<dd>
		operateAffine/universalトランジションでハードウェア例外が発生する場合があったので修正。<br />
		H.264/WMVがオープン時にエラー発生していたので修正。<br />
		動画プラグイン追加時、対応形式が見付からない時にエラーが発生していたので修正。<br />
		MediaFoundationの再生でボリューム変更すると全体音量が変更されてしまっていたので修正。<br />
		文字描画の影が指定値が大きいとおかしくなっていた問題を修正。<br />
		SSE4.1がサポートされていないCPUでstretchCopyを実行するとエラーで終了する不具合を修正。<br />
		文字の影の幅が以前より狭くなっていた問題を修正。<br />
		メモリ確保失敗対処のためにプロセスヒープからBitmapメモリを取得するものを追加しデフォルトに。 <br />
		Bitmapメモリを確保に失敗した時、どの方式でもGCとコンパクションを実行して出来るだけ確保失敗エラーが起きないように対応。<br />
		Alpha と AddAlpha のブレンド処理が間違っていたので修正。<br />
		<br />
	</dd>
	<dt>2016/06/03 1.3.1.5 リリース</dt>
	<dd>
		AVXをサポートしていないCPUで起動しなかったのを修正<br />
		32bit版でLARGEADDRESSAWAREを有効に<br />
		<br />
	</dd>
	<dt>2016/05/31 1.3.0.4 リリース</dt>
	<dd>
		64bit版を追加<br />
		アセンブリで記述されていたグラフィック部分をMMXからSSE2にしたイントリンシックで書き換え<br />
		グラフィック処理の一部にAVX2を使うものを追加<br />
		拡大縮小フィルタを追加<br />
		JPEG XRをWindows Imaging Componentを使用して読み込むように変更<br />
		JPEG XRの書き出しを追加<br />
		krmovie.dllを本体に統合<br />
		theoraをプラグインに分離<br />
		動画プラグインに対応<br />
		画像プラグインに対応<br />
		画像ヘッダー読み込み機能を追加<br />
		savedataフォルダを必要な時に作られるように修正<br />
		フルスクリーン時の画面回転・解像度変更で描画位置がずれる問題を修正<br />
		メインループの条件からWindow数を削除<br />
		レイヤーのタッチキャプチャー追加<br />
		BasicDrawDeviceでDestRect指定された時にBackBufferサイズより大きい時一度破棄して作り直すように修正<br />
		バックバッファのサイズをウィンドウのあるディスプレイの最大サイズかクライアント領域の大きい方を使うように修正<br />
		ウィンドウ最大サイズが0(初期値)の時、INT_MAXまで拡大可能なように修正<br />
		タッチ機能のデフォルト動作指定に対応<br />
		FreeTypeを2.6.3に変更<br />
		SIMD libjpegからlibjpeg-turboに変更<br />
		Window.showModalでフォーカスが得られてないことになる一連の不具合修正<br />
		FreeTypeでブラーが機能していなかったので修正<br />
		アスペクト比の異なる画面でのフルスクリーン時Layer.cursorX/cursorYが間違った値を返していたのを修正<br />
		テンポラリファイル生成にDELETE_ON_CLOSEをつけるようにして強制終了してもファイルが削除れるように修正<br />
		TVPGetPlatformNameで返す文字列を定数ではなく、Win32上かWin64上か判定して返すように修正<br />
		sprintfで大きい整数が正しく処理されていなかったのを修正<br />
		Array/Dictionary.loadStructを追加<br />
		ライセンス文取得時にバッファオーバランが発生することがあったのを修正<br />
		adjustGamma の処理結果が吉里吉里2と異なっていたのを修正<br />
		pを使った指数指定の動作を修正<br />
		Shift_JIS/Unicode変換を自前の処理に変更<br />
		TouchUpイベント終了まで移動速度を保持するよう修正<br />
		Layer.copy9Patch を追加<br />
		<br />
	</dd>
	<dt>2015/08/17 1.2.0.3 リリース</dt>
	<dd>
		動画再生に vomMFEVR モード追加、H.264 の再生に対応。<br />
		Theora の再生に対応。<br />
		xp3 のシーク不具合修正。<br />
		デフォルトフォント名がストックフォント名の場合、システムからフォントを取得して、そのフォント名をデフォルトとするように変更。<br />
		コマンドラインで-deffont指定がある場合、そのフォント名をデフォルトとするように変更。<br />
		バイナリDic/Array読み込みメモリリーク修正。<br />
		同一レイヤーでディレイ期間内に同じヒントメッセージを設定するとUpdateHintが呼ばれなくなるのを修正。<br />
		タッチイベント無効時のイベント処理(デグレ)修正。<br />
		-printdatapathが正しく出力されるように修正。<br />
		Math.random()の範囲が[0,1]になっていたのを[0,1)に修正。<br />
		Math.random()でXorshiftを使うように変更。<br />
		アプリケーションのActivate/Deactivate判定処理を修正。<br />
		RegExpのmatches, lastMatch, lastParenの値が正しく更新されるように修正。<br />
		非クライアント領域や別のウィンドウ上でWindow.hideMouseCursor()が機能してしまう不具合修正。<br />
		Window.enableTouch=true時にペンデバイスでイベントが来ない問題を修正。<br />
		スクリプトデバッガで表示出来ない文字を〓で表示し、UTF-8 で表示出来ない問題を修正。<br />
		<br />
	</dd>
	<dt>2014/08/03 1.1.0.2 リリース</dt>
	<dd>
		UTF-8 BOM付きに対応。<br />
		正規表現の*などで空文字にマッチしてreplaceで無限ループなってしまう問題を修正。<br />
		System.savedGamesPath の追加と-datapathの$(savedgamespath)に対応。<br />
		Window に親がある場合のウィンドウスタイルの調整。<br />
		-aboutのダイアログを表示するTJS側のインターフェースSystem.showVersion()を追加。<br />
		setZoomされたウィンドウのレイヤタッチ座標がおかしいのを修正。<br />
		JPEG XR 読み込みのサポート。<br />
		ヒントを表示しているレイヤーでヒントメッセージを変更してもイベントが発生しないのを修正。<br />
		XP 非サポート化。<br />
		PreMonitor DPI有効としたマニフェストを追加。<br />
		フリック等のためにマウスとタッチの速度計測機能追加。<br />
		例外発生ファイルのパスをStorages.addAutoPathしてあるフォルダであれば%filepath%で正しく取得できるように修正。<br />
		TJS2 で型指定文法を許容するように対応。<br />
		Bitmap クラスを内部で生成しやすいよう対応、BitmapLayerTreeOwner クラスの追加。<br />
		LayerTreeOwner (Window抽象化)対応。<br />
		タッチ座標がスクリーン座標になっていたのをクライアント座標に修正。<br />
		画面の回転に対応。<br />
		TVPGetFunctionExporter を公開関数から削除。 <br />
		System.dumpHeap() 追加。 <br />
		鬼車関連で公開関数となっていたものを非公開に修正。 <br />
		LFHサポート追加。 <br />
		非同期読込み時のキャッシュ処理が期待通り機能していなかったので修正。<br />
		非同期読込み時のメモリコピーを減らして高速化(このために排他処理追加)。<br />
		ビットマップメモリ確保方式を指定可能に。 <br />
		タグ情報のない画像を非同期で読み込んだ時にアクセス違反が発生していたのを修正。<br />
		マウスカーソル変更チェック処理で、内部カーソル番号と配列インデックスの変換が正しく行われていなかったので修正。 <br />
		Layerの各種コピーメソッドのsrcにBitmapオブジェクトも指定可能に。<br />
		menu.dll Window.menu.visible の更新処理を修正。<br />
		menu.dll MenuItem.shortcutが設定されたアイテムにショートカット名が表示されない問題を修正。<br />
		menu.dll MenuItem.onClick のイベント配信優先順位変更。<br />
		menu.dll 親のないradioなMenuItemでcheckedが正しく機能しないのを修正。<br />
		menu.dll MenuItem.index の変更で AccessViolation が発生するのを修正。<br />
		menu.dll セパレートライン("-")の　MenuItem の caption プロパティの値が空文字になる問題を修正。<br />
		<br />
	</dd>

	<dt>2013/12/31 1.0.0.1 リリース</dt>
	<dd>
		MouseLeave以外のマウスメッセージでMouseEnterが発生するように修正。<br />
		BasicDrawDevice でバックバッファクリアを必要な場合に行うように変更。<br />
		使わなくなっていた垂直同期待ちとダブルバッファリング設定を設定画面から削除。<br />
		垂直同期待ちを有効にしたらアクセス違反が発生していたのを修正。<br />
		オーバーレイ/VMRでの動画再生の位置のズレ修正。<br />
		Window.focusable を追加。<br />
		Window.enableTouch の条件からマルチタッチを削除、設定フラグを起動時と同じものに変更。<br />
		Window.onTouchRotate/onTouchScaling の中心座標計算修正。<br />
		サウンド再生後終了時のメモリリーク修正。<br />
		VMRで動画再生しつつLayerを更新すると動画がちらつく問題修正。<br />
		pack/unpack 修正。<br />
		Bitmap のコンストラクタにbppを明示的に指定した場合期待した動作ではなかったのを修正。<br />
		tlg524で保存した時に発生するアクセス違反を修正。<br />
		JPEG書き出し処理修正。<br />
		<br />
	</dd>

	<dt>2013/12/24 β9 リリース</dt>
	<dd>
		吉里吉里ダウンロードURL変更。<br />
		ImageFunction.drawText へ font 引数追加。<br />
		プライマリーレイヤーのサイズがクライアント領域を超えていた場合にフルスクリーン化すると画像が伸縮していたのを、アスペクト比を維持してクリッピングされるように変更。<br />
		Windowクラスのコンストラクタに親Windowを指定できるように対応。<br />
		Window生成時初期ボーダースタイルを明示的に設定するように対応。<br />
		Rect.includedPos追加。<br />
		Windowが非表示の時メインウィンドウと連動して最小化/リストア動作を行わないように修正。<br />
		Layerより先にBitmapを生成するとアクセス違反が発生する問題を修正。<br />
		setMaxSizeでの判定条件が逆だったのを修正。<br />
		Window.setZoomを呼んだ時に再描画がかからないのを修正。<br />
		マウスのEnter/Leaveでマウスカーソル表示状態を更新するように修正。<br />
		Window の Min Max サイズ変更時、常に両方のサイズで判定するように修正。<br />
		Opusプラグイン修正。<br />
		WindowクラスのParent判定方法修正。<br />
		メニューがない時はALTキーでMouseLeaveが発生しないように修正。<br />
		<br />
	</dd>

	<dt>2013/12/16 β8 リリース</dt>
	<dd>
		オプションリソースの読込みで改行コード依存していたものを依存しないように修正。<br />
		オプションリソースで D3D オプション指定の必要がなくなったので削除。<br />
		JSON形式のオプション詳細テキスト読込み対応。<br />
		オプション説明を JSON 形式に変更し現状あわせ更新。<br />
		エンジン設定機能追加。<br />
		いくつかのイベントの shift にマウスボタン状態が入っていなかったのを修正。<br />
		ライセンス文をリソースに移動。<br />
		2GB 超えた XP3 ファイルで読込みで発生するエラーを修正。<br />
		<br />
	</dd>

	<dt>2013/12/10 β7 リリース</dt>
	<dd>
		デバッガでパスにスペースを含む場合起動途中で止まる不具合を修正。<br />
		Window.setInnerSize 等クライアントサイズ設定で、menu.dll を読み込んでいた場合にサイズ計算がおかしくなることがあったのを修正。<br />
		Symbolキャラセットの時 FreeType で例外が出ていたのを修正。<br />
		メニューでnullが渡された時、例外を出すように修正。<br />
		クリック位置がMouseUp座標になっていたものをMouseDown座標に修正。<br />
		文字列の描画範囲取得関数追加。<br />
		Rect クラスにメソッド追加。<br />
		内部的に Rect クラスを使っている箇所のメモリリーク修正。 <br />
		例外発生時に指定エディタでスクリプトを開く機能を追加(TVP_ENABLE_EXECUTE_AT_EXCEPTION を指定しなければ無効) 。<br />
		フルスクリーン時に画面外(黒帯)の時、座標値がおかしかったのを修正。<br />
		TouchDown イベントが TouchUp イベントもしくは右クリックとして判定されるまで遅延していたのを修正。<br />
		PrimaryLayer サイズとクライアント領域のサイズを別扱いするように修正。<br />
		Storages.selectFile() のフィルタ指定が期待通り動作しなかったのを修正。 <br />
		メインウィンドウがない時に Storages.selectFile() を実行しても機能しなかったのを修正。<br />
		<br />
	</dd>

	<dt>2013/12/03 β6 リリース</dt>
	<dd>
		TJS2 定数 mbX1, mbX2 を追加。<br />
		スクリプトデバッガでUTF-16LEとUTF-8をサポート。<br />
		タッチパネル有無確認のための System.touchDevice を追加。<br />
		例外発生終了時タイミングによって不正アクセスする不具合を修正。 <br />
		GDI で文字描画するとたまに薄く描画されてしまう問題を修正。<br />
		Window の close 処理周りの修正。<br />
		モーダルウィンドウが後ろに回らないようにアクティブ化時に手前に移動する処理を追加。<br />
		GDI で正しくレンダリング出来ないフォントに対処。<br />
		シンボルキャラセットを除くフラグ fsfIgnoreSymbol を追加。<br />
		FreeType でもできるだけ GDI と同じ位置にレンダリングするように修正。<br />
		フォント描画位置がマイナス指定された場合、下線等でメモリ範囲外アクセスが発生していたのを修正。<br />
		FreeType 終了処理を適切に行うように修正。<br />
		FreeType でレンダリングできない文字の時、代替文字として描画するように対応。<br />
		fsfSameCharSet が期待通り機能していなかったのを修正。<br />
		フェイス名をフォントファイル名として扱うオプション Font.faceIsFileName 追加。<br />
		フォントラスタライザ切り替えで設定が反映されないケースに対応。 <br />
		GDI と FreeType で太字の時描画位置が大きくずれていたのを修正。 <br />
		メニューの更新を項目によって再構築と再設定に分離。 <br />
		System.desktop* が返す値をメインウィンドウがあるモニタの作業領域に変更。 <br />
		Window.setSize が効かなかったのを修正。<br />
		Window.onResize が発生しなかったのを修正。 <br />
		フォントフェイス名をカンマで複数指定が期待通り機能していなかったのを修正。 <br />
		<br />
	</dd>

	<dt>2013/11/26 β5 リリース</dt>
	<dd>
		デバッガを同梱。<br />
		他アプリがフルスクリーン化してデバイスロスト後、再びアクティブになった時に復帰できるように修正。<br />
		フルスクリーン時余白が描画されない問題を修正。<br />
		吉里吉里デバッガで動かなかったのを修正<br />
		メニューのショートカットキーに反応しない不具合修正。 <br />
		<br />
	</dd>

	<dt>2013/11/19 β4 リリース</dt>
	<dd>
		KAGParser.dll での読込み文字コードをデフォルト UTF-8 とし、readencoding の設定 に従うように変更。<br />
		フルスクリーン化処理を修正し、ウィンドウ拡大のみに変更。<br />
		PassThroughDrawDevice を削除し BasicDrawDevice を追加しデフォルトに変更。<br />
		描画処理を Direct3D9 のみに変更。<br />
		コンソール出力処理を修正。<br />
		split/replace の処理を修正。<br />
		ALTキーのKeyDown, KeyDown での shift 値を修正。<br />
		IME が効かなかった不具合修正。<br />
		borderStyle の設定がおかしかったのを修正。<br />
		<br />
	</dd>

	<dt>2013/11/11 β3 リリース</dt>
	<dd>
		ACCESS VIOLATION の修正。<br />
		split の修正。<br />
		replace の修正。<br />
		onKeyDown のキーリピートフラグ修正。<br />
		<br />
	</dd>

	<dt>2013/11/07 β2 リリース</dt>
	<dd>
		KAGParser のプロジェクトのリリースの設定で def の設定をしていなかったので追加(KAGParserが使えなかったのを修正)。<br />
		menu.visible の設定が反転していたので修正。<br />
		Window の初期位置を Windows 任せにするように変更。<br />
		メニューのチェックマークなどが出なかったのを修正。<br />
		ハードウェア例外表示に対応。<br />
		showModal 修正(不完全)<br />
		<br />
	</dd>

	<dt>2013/11/02 β1(2)リリース</dt>
	<dd>
		XP で起動できない設定になっていたので修正。<br />
		テクスチャサイズが2の累乗サイズ限定の時期待通り描画されていなかったのを修正。<br />
		<br />
	</dd>

	<dt>2013/11/01 β1 リリース</dt>
</dl>
<br />
</div>
</div>
</body>
</html>
